<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sorpresa secreta ğŸ</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <canvas id="confetti"></canvas>

  <!-- LOGIN VIEW -->
  <main class="wrap" id="loginView">
    <header class="top">
      <div class="badge">ğŸ”’ Portal privado</div>
      <div class="muted">Administrar tu sorpresa</div>
    </header>

    <section class="card">
      <h1 class="title">Administrar tu sorpresa ğŸ</h1>
      <p class="subtitle">
        Ingresa tu <b>cÃ³digo de reserva</b> y <b>apellido</b> (estÃ¡n en tu boarding pass).
      </p>

      <div class="form">
        <div class="field">
          <label for="codeInput">CÃ³digo de reserva</label>
          <input id="codeInput" type="text" autocomplete="off" />
        </div>

        <div class="field">
          <label for="lastNameInput">Apellido</label>
          <input id="lastNameInput" type="text"  autocomplete="off" />
        </div>

        <button class="btn primary" id="loginBtn">Ingresar</button>

        <p class="error" id="loginError" aria-live="polite"></p>

        <div class="hint">
          Tip: si te equivocas, revisa tu boarding pass ğŸ˜¤ (sobornos en abrazos son aceptados).
        </div>
      </div>
    </section>

    <footer class="footer muted">
      Hecho con amor y cero chill ğŸ’›
    </footer>
  </main>

  <!-- APP VIEW -->
  <main class="wrap hidden" id="appView">
    <header class="top">
      <div class="badge">ğŸ¥³ Acceso concedido</div>
      <div class="topActions">
        <button class="btn ghost" id="playAudioBtn">ğŸ”Š Audio</button>
        <button class="btn ghost" id="printBtn">ğŸ–¨ï¸ Imprimir cupones</button>
        <button class="btn ghost" id="logoutBtn">Salir</button>
      </div>
    </header>

    <!-- HERO -->
    <section class="card hero">
      <h1 class="title">Feliz cumpleaÃ±os, mi amor ğŸ¥³</h1>
      <p class="subtitle">
        Hoy es tu dÃ­a y yo soy tu fan #1. Gracias por ser mi lugar seguro y mi alegrÃ­a diaria.
        <br/>
        Hoy te celebro con todo mi corazÃ³n ğŸ˜ŒğŸ’›
      </p>

      <div class="menu">
        <button class="btn primary" data-go="coupons">ğŸŸï¸ Cuponera</button>
        <button class="btn" data-go="memories">ğŸ“¸ Recuerdos</button>
        <button class="btn" data-go="terms">ğŸ“œ TÃ©rminos</button>
        <button class="btn" data-go="final">ğŸ’Œ Mensaje final</button>
      </div>

      <div class="notice">
        â³ Vigencia de cupones hasta: <b id="expiryText">03 de marzo</b>
      </div>
    </section>

    <!-- COUPONS -->
    <section class="card" id="coupons">
      <div class="sectionTop">
        <h2 class="sectionTitle">Cuponera de regalos ğŸŸï¸</h2>
        <div class="muted">Toca un cupÃ³n para ver detalles. Imprime para redimir.</div>
      </div>

      <div class="couponGrid" id="couponGrid"></div>

      <div class="printNote muted">
        *Para redimir: presentar cupÃ³n impreso o mostrar en pantalla con cara de â€œcumpleaÃ±ero oficialâ€.*
      </div>
    </section>

    <!-- MEMORIES -->
    <section class="card" id="memories">
      <div class="sectionTop">
        <h2 class="sectionTitle">Nuestros recuerdos ğŸ“¸</h2>
        <div class="muted">Ustedes, nosotros, y los mininos que mandan.</div>
      </div>

      <div class="mininos">
        <div class="mininoCard">
          <div class="mininoName">ğŸ± Maki</div>
          <div class="muted">enojona, mandona, jefa del hogar.</div>
        </div>
        <div class="mininoCard">
          <div class="mininoName">ğŸ± Panarabbit</div>
          <div class="muted">el mÃ¡s comelÃ³n, el mÃ¡s tierno.</div>
        </div>
      </div>

      <div class="photoGrid" id="photoGrid"></div>
    </section>

    <!-- TERMS -->
    <section class="card" id="terms">
      <div class="sectionTop">
        <h2 class="sectionTitle">TÃ©rminos & Condiciones ğŸ“œ</h2>
        <div class="muted">Porque esto es serioâ€¦ pero no tanto ğŸ˜Œ</div>
      </div>

      <ul class="termsList" id="termsList"></ul>
    </section>

    <!-- FINAL -->
    <section class="card" id="final">
      <div class="sectionTop">
        <h2 class="sectionTitle">Para ti ğŸ’Œ</h2>
        <div class="muted">Cierre de pelÃ­cula (y con chiste escondido).</div>
      </div>

      <div class="finalText" id="finalText"></div>

      <div class="finalActions">
        <button class="btn primary" id="finalConfettiBtn">âœ¨ Activar confeti otra vez</button>
        <button class="btn" id="goCouponsBtn">ğŸŸï¸ Volver a cuponera</button>
      </div>
    </section>

    <!-- AUDIO (optional) -->
    <audio id="audio" preload="auto">
      <source src="assets/audio.mp3" type="audio/mpeg" />
    </audio>
  </main>

  <!-- PHOTO MODAL -->
  <div class="modal hidden" id="photoModal" role="dialog" aria-modal="true">
    <div class="modalBackdrop" id="modalBackdrop"></div>
    <div class="modalContent">
      <button class="modalClose" id="modalCloseBtn" aria-label="Cerrar">âœ•</button>
      <img id="modalImg" alt="Foto" />
      <div class="modalCaption muted" id="modalCaption"></div>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
